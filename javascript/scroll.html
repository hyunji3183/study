<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <article>
        <h2> 콘텐츠 위치 확인 후 활성화 </h2>
        <figure>
            <p><img src="./img/01.jpg"></p>
            <p><img src="./img/04.jpg"></p>
            <p><img src="./img/05.jpg"></p>
            <p><img src="./img/03.jpg"></p>
            <p><img src="./img/04.jpg"></p>
            <p><img src="./img/05.jpg"></p>
            <p><img src="./img/03.jpg"></p>
            <p><img src="./img/04.jpg"></p>
            <p><img src="./img/05.jpg"></p>
        </figure>
        <style>
            img {
                opacity: 0;
                transform: translateX(-50%);
                transition: 1s;
            }

            img.active {
                opacity: 1;
                transform: translateX(0%);
            }
        </style>
    </article>


    <script>
        const elImg = document.querySelectorAll('img');
        let imgArr = [];
        function init() {
            contentScroll()
        }
        
        function contentScroll() {
            elImg.forEach(function (ele) {
                imgArr.push(ele.getBoundingClientRect());
            })


            console.log(imgArr)
            // console.log(window.innerHeight);


            let winH = window.innerHeight / 2;
            function scrollFun() {
                imgArr.forEach(function (offset, key) {
                    if (window.pageYOffset > offset.y - winH) {
                        elImg[key].classList.add('active')
                    }
                })
                // console.log(window.pageYOffset);/* /브라우저 스크롤 위치 표시 */
            }
            window.onscroll = scrollFun;
            scrollFun()
        }


        window.onload = init;

    </script>





</body>

</html>